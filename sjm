#!/bin/bash

# Check if the service name is provided as an argument
if [ -z "$1" ]; then
  echo "Usage: $0 <new_service_name>"
  exit 1
fi

new_service_name="$1"

# Check if a.yaml exists
if [ ! -f "a.yaml" ]; then
  echo "Error: a.yaml not found."
  exit 1
fi

# Use sed to replace <service-name> with the new name.  The `-i` option
# modifies the file in-place.  The `s///g` performs a global substitution
# (all occurrences on each line).

sed -i "s/<service-name>/$new_service_name/g" a.yaml

# Provide feedback to the user.
echo "Replaced <service-name> with '$new_service_name' in a.yaml"

exit 0
