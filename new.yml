# Use the latest official Redis image as the base image
FROM redis:latest

# Update package lists and install the package containing redis-cli
RUN apt-get update && \
    apt-get install -y redis-server && \
    apt-get install -y --no-install-recommends gnupg2 dirmngr && \
    echo "deb http://deb.debian.org/debian stretch main" >> /etc/apt/sources.list && \
    apt-get update && \
    apt-get install -y redis-tools && \
    rm -rf /var/lib/apt/lists/*

# Expose Redis port
EXPOSE 6379

# Start Redis server when the container starts
CMD ["redis-server"]