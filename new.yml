FROM debian:10

# Install dependencies
RUN apt-get update && apt-get install -y curl apt-transport-https gnupg2 && \
    curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add - && \
    curl https://packages.microsoft.com/config/debian/10/prod.list > /etc/apt/sources.list.d/mssql-release.list && \
    apt-get update

# Accept the Microsoft ODBC Driver for SQL Server End-User License Agreement (EULA)
RUN echo "msodbcsql18 msodbcsql18/accept_eula boolean true" | debconf-set-selections

# Install the Microsoft ODBC Driver for SQL Server 18
RUN apt-get install -y msodbcsql18

# Install the Microsoft ODBC Command Line Utilities
RUN apt-get install -y mssql-tools

# Clean up
RUN apt-get clean && rm -rf /var/lib/apt/lists/*

# Set environment variables for SQL Server tools
ENV PATH="${PATH}:/opt/mssql-tools/bin"